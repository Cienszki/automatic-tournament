"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5334],{5363:(e,a,t)=>{t.d(a,{$:()=>p});var s=t(95155),l=t(12115),r=t(66695),n=t(30285),i=t(85511),d=t(62523),o=t(85057),c=t(90503),m=t(83013);function p(){let{simulatedTime:e,setSimulatedTime:a}=(0,c.z)(),[t,p]=l.useState(e),[u,f]=l.useState((0,m.GP)(e,"HH:mm"));return(0,s.jsxs)(r.Zp,{className:"bg-muted/30",children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Time Machine"}),(0,s.jsx)(r.BT,{children:"Control the current time for the application to test deadline-related logic."})]}),(0,s.jsxs)(r.Wu,{className:"flex flex-col md:flex-row gap-4 items-start",children:[(0,s.jsx)(i.V,{mode:"single",selected:t,onSelect:p,className:"rounded-md border"}),(0,s.jsxs)("div",{className:"space-y-4 flex-grow",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"time-input",children:"Time (HH:mm)"}),(0,s.jsx)(d.p,{id:"time-input",type:"time",value:u,onChange:e=>{f(e.target.value)}})]}),(0,s.jsx)(n.$,{onClick:()=>{let[e,s]=u.split(":").map(Number),l=new Date(t||new Date);l.setHours(e,s),a(l)},className:"w-full",children:"Apply Simulated Time"}),(0,s.jsx)(n.$,{onClick:()=>{a(new Date),p(new Date),f((0,m.GP)(new Date,"HH:mm"))},variant:"outline",className:"w-full",children:"Reset to Real Time"}),(0,s.jsxs)("div",{className:"p-3 bg-background rounded-md text-center",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Simulated Time:"}),(0,s.jsx)("p",{className:"font-bold text-primary",children:(0,m.GP)(e,"PPPPpp")})]})]})]})]})}},28292:(e,a,t)=>{t.d(a,{y:()=>v});var s=t(95155),l=t(12115),r=t(66695),n=t(30285),i=t(54165),d=t(59409),o=t(62523),c=t(85057),m=t(67554),p=t(33349),u=t(17104),f=t(50172),x=t(15599),h=t(80479),j=t(87481),y=t(59576),g=t(87489),w=t(59434);let N=l.forwardRef((e,a)=>{let{className:t,orientation:l="horizontal",decorative:r=!0,...n}=e;return(0,s.jsx)(g.b,{ref:a,decorative:r,orientation:l,className:(0,w.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",t),...n})});N.displayName=g.b.displayName;let v=l.forwardRef((e,a)=>{let{user:t,signInWithGoogle:g,signOut:w}=(0,y.A)(),[v,b]=l.useState([]),[C,k]=l.useState(!0),[R,_]=l.useState(null),{toast:P}=(0,j.dj)(),S=l.useCallback(async()=>{k(!0);try{let e=await (0,h.Z)();b(e.filter(e=>e.testCaptainEmail&&e.testCaptainPassword))}catch(e){P({title:"Error fetching teams",description:"Could not load the list of test teams.",variant:"destructive"})}finally{k(!1)}},[P]);l.useEffect(()=>{S()},[S]),l.useImperativeHandle(a,()=>({refreshTeams:S}));let T=(e,a)=>{navigator.clipboard.writeText(e),P({title:"Copied!",description:"".concat(a," copied to clipboard."),variant:"default"})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.ZB,{children:"Captain Impersonator & Sign-In"}),(0,s.jsx)(r.BT,{children:"Sign in with Google or select a test captain to view their credentials."})]}),(0,s.jsx)(n.$,{variant:"outline",size:"icon",onClick:S,disabled:C,children:(0,s.jsx)(m.A,{className:"h-4 w-4 ".concat(C?"animate-spin":"")})})]})}),(0,s.jsxs)(r.Wu,{className:"space-y-6",children:[t?(0,s.jsx)("div",{className:"p-4 border rounded-md bg-muted/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"truncate pr-4",children:["Signed in as ",(0,s.jsx)("strong",{children:t.displayName||t.email})]}),(0,s.jsxs)(n.$,{variant:"outline",onClick:w,children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})}):(0,s.jsx)("div",{className:"p-4 border rounded-md",children:(0,s.jsxs)(n.$,{variant:"outline",onClick:g,className:"w-full",children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Sign In with Google"]})}),(0,s.jsx)(N,{}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Impersonate a Test Captain"}),(0,s.jsxs)(d.l6,{onValueChange:e=>{let a=v.find(a=>a.id===e);a&&_(a)},disabled:C||0===v.length,children:[(0,s.jsx)(d.bq,{children:(0,s.jsx)(d.yv,{placeholder:C?"Loading test teams...":0===v.length?"No test teams found":"Select a captain to impersonate..."})}),(0,s.jsx)(d.gC,{children:C?(0,s.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,s.jsx)(f.A,{className:"h-5 w-5 animate-spin"})}):v.map(e=>(0,s.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]})]})]})]}),(0,s.jsx)(i.lG,{open:!!R,onOpenChange:e=>!e&&_(null),children:(0,s.jsxs)(i.Cf,{children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsxs)(i.L3,{children:["Impersonate Captain of ",null==R?void 0:R.name]}),(0,s.jsx)(i.rr,{children:"This user was created for testing. You would need to implement email/password sign in to use these credentials."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"email",children:"Captain's Email"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.p,{id:"email",value:(null==R?void 0:R.testCaptainEmail)||"",readOnly:!0}),(0,s.jsx)(n.$,{onClick:()=>T((null==R?void 0:R.testCaptainEmail)||"","Email"),size:"icon",variant:"outline",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"password",children:"Captain's Password"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.p,{id:"password",value:(null==R?void 0:R.testCaptainPassword)||"",readOnly:!0}),(0,s.jsx)(n.$,{onClick:()=>T((null==R?void 0:R.testCaptainPassword)||"","Password"),size:"icon",variant:"outline",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})]})]})]}),(0,s.jsx)(i.Es,{children:(0,s.jsx)(n.$,{variant:"secondary",onClick:()=>_(null),children:"Close"})})]})})]})});v.displayName="CaptainImpersonator"},54165:(e,a,t)=>{t.d(a,{Cf:()=>m,Es:()=>u,L3:()=>f,c7:()=>p,lG:()=>d,rr:()=>x});var s=t(95155),l=t(12115),r=t(15452),n=t(25318),i=t(59434);let d=r.bL;r.l9;let o=r.ZL;r.bm;let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});c.displayName=r.hJ.displayName;let m=l.forwardRef((e,a)=>{let{className:t,children:l,...d}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[l,(0,s.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};p.displayName="DialogHeader";let u=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};u.displayName="DialogFooter";let f=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});f.displayName=r.hE.displayName;let x=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...l})});x.displayName=r.VY.displayName},59409:(e,a,t)=>{t.d(a,{bq:()=>p,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>m});var s=t(95155),l=t(12115),r=t(31992),n=t(79556),i=t(77381),d=t(10518),o=t(59434);let c=r.bL;r.YJ;let m=r.WT,p=l.forwardRef((e,a)=>{let{className:t,children:l,...i}=e;return(0,s.jsxs)(r.l9,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=r.l9.displayName;let u=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=r.PP.displayName;let f=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let x=l.forwardRef((e,a)=>{let{className:t,children:l,position:n="popper",...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,s.jsx)(u,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(f,{})]})})});x.displayName=r.UC.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.JU,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...l})}).displayName=r.JU.displayName;let h=l.forwardRef((e,a)=>{let{className:t,children:l,...n}=e;return(0,s.jsxs)(r.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:l})]})});h.displayName=r.q7.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=r.wv.displayName},80479:(e,a,t)=>{t.d(a,{Z:()=>l});var s=t(34477);let l=(0,s.createServerReference)("002c9b9d6476bb94305158369275f5b0325aacd938",s.callServer,void 0,s.findSourceMapURL,"getTeams")},85057:(e,a,t)=>{t.d(a,{J:()=>o});var s=t(95155),l=t(12115),r=t(40968),n=t(74466),i=t(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.b,{ref:a,className:(0,i.cn)(d(),t),...l})});o.displayName=r.b.displayName},85511:(e,a,t)=>{t.d(a,{V:()=>o});var s=t(95155);t(12115);var l=t(965),r=t(73158),n=t(3611),i=t(59434),d=t(30285);function o(e){let{className:a,classNames:t,showOutsideDays:o=!0,...c}=e;return(0,s.jsx)(n.hv,{showOutsideDays:o,className:(0,i.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:a,...t}=e;return(0,s.jsx)(l.A,{className:(0,i.cn)("h-4 w-4",a),...t})},IconRight:e=>{let{className:a,...t}=e;return(0,s.jsx)(r.A,{className:(0,i.cn)("h-4 w-4",a),...t})}},...c})}o.displayName="Calendar"},90503:(e,a,t)=>{t.d(a,{TimeProvider:()=>n,z:()=>i});var s=t(95155),l=t(12115);let r=(0,l.createContext)(void 0),n=e=>{let{children:a}=e,[t,n]=(0,l.useState)(new Date);return(0,s.jsx)(r.Provider,{value:{simulatedTime:t,setSimulatedTime:n},children:a})},i=()=>{let e=(0,l.useContext)(r);if(void 0===e)throw Error("useTime must be used within a TimeProvider");return e}}}]);