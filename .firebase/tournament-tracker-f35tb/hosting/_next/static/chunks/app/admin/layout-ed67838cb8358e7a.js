(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>i});var n=r(12115);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function a(...e){return n.useCallback(i(...e),e)}},11243:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(95155),s=r(12115),i=r(59576),a=r(66695),o=r(50172),l=r(17104),d=r(28044),c=r(30285),u=r(6874),f=r.n(u),p=r(79323);function h(e){let{children:t}=e,{user:r,loading:u,signInWithGoogle:h}=(0,i.A)(),[m,g]=s.useState(null),[x,y]=s.useState(null);s.useEffect(()=>{if(!u){if(!r){g(!1);return}(0,p.n)(r).then(g).catch(()=>{y("Could not verify admin status. Please try again later."),g(!1)})}},[r,u]);let v=async()=>{try{await h()}catch(e){y("Failed to sign in with Google. Please try again.")}};return u||null===m?(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(o.A,{className:"h-16 w-16 animate-spin text-primary"}),(0,n.jsx)("p",{className:"ml-4 text-xl mt-4",children:"Checking permissions..."})]})}):r?m?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsxs)(a.Zp,{className:"max-w-md w-full text-center shadow-xl",children:[(0,n.jsx)(a.aR,{children:(0,n.jsxs)(a.ZB,{className:"text-2xl text-destructive flex items-center justify-center",children:[(0,n.jsx)(d.A,{className:"h-8 w-8 mr-3"}),"Access Denied"]})}),(0,n.jsxs)(a.Wu,{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-muted-foreground",children:"You are logged in, but you do not have the necessary permissions to view this page."}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Your User ID is: ",(0,n.jsx)("code",{className:"font-mono bg-muted p-1 rounded-md",children:r.uid})]}),(0,n.jsx)(c.$,{asChild:!0,children:(0,n.jsx)(f(),{href:"/",children:"Go to Homepage"})})]})]})}):(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsxs)(a.Zp,{className:"max-w-md w-full text-center shadow-xl",children:[(0,n.jsxs)(a.aR,{children:[(0,n.jsxs)(a.ZB,{className:"text-2xl flex items-center justify-center",children:[(0,n.jsx)(l.A,{className:"h-8 w-8 mr-3"}),"Admin Access Required"]}),(0,n.jsx)(a.BT,{children:"Please log in with your authorized Google account to continue."})]}),(0,n.jsxs)(a.Wu,{className:"space-y-4",children:[(0,n.jsx)(c.$,{onClick:v,size:"lg",children:"Sign in with Google"}),x&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive",children:x})]})]})})}},17104:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(40157).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},28044:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(40157).A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>l});var n=r(95155),s=r(12115),i=r(99708),a=r(74466),o=r(59434);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:s,size:a,className:r})),ref:t,...c})});d.displayName="Button"},31444:(e,t,r)=>{Promise.resolve().then(r.bind(r,11243))},50172:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},56104:(e,t,r)=>{"use strict";let n;r.d(t,{IG:()=>f,db:()=>u,j2:()=>c});var s=r(23915),i=r(93004),a=r(35317),o=r(90858),l=r(81427);let d={apiKey:"AIzaSyDvxTgVH39ZCw6UOdxx6TdWTM6NE1vuVa4",authDomain:"tournament-tracker-f35tb.firebaseapp.com",projectId:"tournament-tracker-f35tb",storageBucket:"tournament-tracker-f35tb.firebasestorage.app",messagingSenderId:"910618712944",appId:"1:910618712944:web:ce571be24bda274cde8db5"};console.log("Firebase Config:",d);try{n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(d),console.log("Firebase App Initialized:",n.name)}catch(e){console.error("Firebase initialization error",e),n=null}let c=(0,i.xI)(n);c.tenantId=null;let u=(0,a.aU)(n),f=(0,o.c7)(n);(0,l.Uz)(n)},59434:(e,t,r)=>{"use strict";r.d(t,{MX:()=>o,ZV:()=>l,cn:()=>i});var n=r(52596),s=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}let a={Carry:1,Mid:2,Offlane:3,"Soft Support":4,"Hard Support":5};function o(e){return[...e].sort((e,t)=>{var r,n;return(null!==(r=a[e.role])&&void 0!==r?r:99)-(null!==(n=a[t.role])&&void 0!==n?n:99)})}function l(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},59576:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>d});var n=r(95155),s=r(12115),i=r(93004),a=r(56104),o=r(87481);let l=(0,s.createContext)(void 0),d=e=>{let{children:t}=e,[r,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),{toast:f}=(0,o.dj)();(0,s.useEffect)(()=>{let e=(0,i.hg)(a.j2,e=>{d(e),u(!1)});return()=>e()},[]);let p=async()=>{let e=new i.HF;try{let t=await (0,i.df)(a.j2,e);if(t&&t.user){let e=await t.user.getIdToken();await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})}),f({title:"Signed In",description:"You have successfully signed in with Google."})}}catch(e){console.error("Error signing in with Google:",e),"auth/popup-closed-by-user"!==e.code&&f({title:"Sign-in Error",description:"Could not sign in with Google. Please try again.",variant:"destructive"})}},h=async()=>{try{await (0,i.CI)(a.j2),await fetch("/api/auth/session",{method:"DELETE"}),f({title:"Signed Out",description:"You have been successfully signed out."})}catch(e){console.error("Error signing out:",e),f({title:"Sign-out Error",description:"Could not sign out. Please try again.",variant:"destructive"})}};return(0,n.jsx)(l.Provider,{value:{user:r,loading:c,signInWithGoogle:p,signOut:h},children:t})},c=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>a,aR:()=>o,wL:()=>u});var n=r(95155),s=r(12115),i=r(59434);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},79323:(e,t,r)=>{"use strict";async function n(e){if(!e)return!1;try{let t=await e.getIdToken(!0),r=await fetch("/api/checkAdmin",{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok){let e=await r.json();return console.error("Error from checkAdmin API:",e.error),!1}let n=await r.json();return!0===n.isAdmin}catch(e){return console.error("Error calling checkAdmin API route:",e),!1}}r.d(t,{n:()=>n})},87481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>f});var n=r(12115);let s=0,i=new Map,a=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(d);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>o,Dc:()=>d,TL:()=>a});var n=r(12115),s=r(6101),i=r(95155);function a(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){var a;let e,o;let l=(a=r,(o=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(o=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),d=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(d.ref=t?(0,s.t)(t,l):l),n.cloneElement(r,d)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:s,...a}=e,o=n.Children.toArray(s),l=o.find(c);if(l){let e=l.props.children,s=o.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,i.jsx)(t,{...a,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var o=a("Slot"),l=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=l,t}function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7138,4277,6874,6433,8441,1684,7358],()=>t(31444)),_N_E=e.O()}]);