(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{14636:(e,t,s)=>{"use strict";s.d(t,{AM:()=>n,Wv:()=>d,hl:()=>o});var a=s(95155),r=s(12115),i=s(20547),l=s(59434);let n=i.bL,d=i.l9,o=r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:n=4,...d}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:t,align:r,sideOffset:n,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})})});o.displayName=i.UC.displayName},26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(95155);s(12115);var r=s(74466),i=s(59434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:s}),t),...r})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>d});var a=s(95155),r=s(12115),i=s(99708),l=s(74466),n=s(59434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...c}=e,m=o?i.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:r,size:l,className:s})),ref:t,...c})});o.displayName="Button"},46102:(e,t,s)=>{"use strict";s.d(t,{Tooltip:()=>d,TooltipContent:()=>c,TooltipProvider:()=>n,TooltipTrigger:()=>o});var a=s(95155),r=s(12115),i=s(89613),l=s(59434);let n=i.Kq,d=i.bL,o=i.l9,c=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(i.UC,{ref:t,sideOffset:r,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});c.displayName=i.UC.displayName},55388:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eh});var a=s(95155),r=s(12115),i=s(59576),l=s(66766),n=s(66695);function d(e){let{team:t}=e;return(0,a.jsx)(n.Zp,{className:"shadow-xl overflow-hidden",children:(0,a.jsx)(n.aR,{className:"p-6 bg-muted/30",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[(0,a.jsx)(l.default,{src:t.logoUrl||"https://placehold.co/128x128.png",alt:"".concat(t.name," Logo"),width:100,height:100,className:"rounded-lg border-2 border-card shadow-md","data-ai-hint":"team logo"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.ZB,{className:"text-4xl text-secondary",children:t.name}),(0,a.jsxs)(n.BT,{className:"mt-1 italic text-base",children:['"',t.motto,'"']})]})]})})})}var o=s(21816),c=s(74601),m=s(45731),u=s(49291),x=s(17607),f=s(50286),h=s(60960),p=s(92008),g=s(59434);let v={Carry:o.A,Mid:c.A,Offlane:m.A,"Soft Support":u.A,"Hard Support":x.A};function j(e){let{team:t,upcomingMatches:s}=e;if(!t)return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(f.A,{className:"mr-2"}),"Team Roster"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{children:"No team data available."})})]});let r=(0,g.MX)(t.players||[]);return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(f.A,{className:"mr-2"}),"Team Roster"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("ul",{className:"space-y-4",children:r.map((e,t)=>{let s=v[e.role]||h.A,r=e.id||e.nickname||t;return(0,a.jsxs)("li",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(p.PlayerAvatar,{player:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:e.nickname}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.mmr.toLocaleString()," MMR"]})]})]}),(0,a.jsx)(s,{className:"h-6 w-6 text-muted-foreground"})]},r)})})})]})}var b=s(26126),N=s(30285),y=s(37648),w=s(8376),A=s(31949),T=s(76603),S=s(50594),P=s(19637);let R={pending:{icon:y.A,className:"bg-yellow-500 hover:bg-yellow-600"},verified:{icon:w.A,className:"bg-green-500 hover:bg-green-600"},warning:{icon:A.A,className:"bg-orange-500 hover:bg-orange-600"},banned:{icon:T.A,className:"bg-red-500 hover:bg-red-600"},rejected:{icon:T.A,className:"bg-red-500 hover:bg-red-600"}};function k(e){let{team:t}=e;if(!t)return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(S.A,{className:"mr-2"}),"Team Status"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{children:"Loading status..."})})]});let{icon:s,className:r}=R[t.status]||R.pending;return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(S.A,{className:"mr-2"}),"Team Status"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)(b.E,{className:(0,g.cn)("px-3 py-1.5 text-sm w-full justify-center text-white",r),children:[(0,a.jsx)(s,{className:"mr-2 h-4 w-4"}),t.status]}),(0,a.jsxs)(N.$,{variant:"outline",className:"w-full",onClick:()=>alert("Contact Admin form (simulated)"),children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4"})," Contact Admin"]})]})]})}var _=s(35695),D=s(14636),C=s(85511),M=s(62523),I=s(83013),B=s(53941),H=s(51920),E=s(50172),O=s(73672),Z=s(10518),W=s(25318),G=s(90503),L=s(34477);let F=(0,L.createServerReference)("7004dcf59cfb41b0fba203c74104798e17115ff750",L.callServer,void 0,L.findSourceMapURL,"proposeMatchTime"),K=(0,L.createServerReference)("60d1f09eb23c9915fdc059703f11801f2be9f273b0",L.callServer,void 0,L.findSourceMapURL,"acceptMatchTime"),z=(0,L.createServerReference)("60881d901dc33f655505f3235e3dfe5177a708c67c",L.callServer,void 0,L.findSourceMapURL,"rejectMatchTime"),U=(0,L.createServerReference)("60f4e9bf2b65844af7438cd772b12aac2efff46749",L.callServer,void 0,L.findSourceMapURL,"cancelProposal");var V=s(87481);function X(e){let{match:t,teamId:s,captainId:l}=e,{user:d}=(0,i.A)(),{toast:o}=(0,V.dj)(),{simulatedTime:c}=(0,G.z)(),m=(0,_.useRouter)(),[u,x]=r.useState(t),[f,h]=r.useState(!1),[p,g]=r.useState(!1);r.useEffect(()=>{x(t)},[t]);let v=u.teamA.id===s?u.teamB:u.teamA,j=u.proposedById===s,b=new Date(u.scheduled_for||0),w=c||new Date,T=w>b,S=u.dateTime?new Date(u.dateTime):null,P=new Date(u.defaultMatchTime||0),R=u.proposedTime?new Date(u.proposedTime):null,[k,L]=r.useState(R||P||new Date),[X,$]=r.useState(R?(0,I.GP)(R,"HH"):"18"),[q,Y]=r.useState(R?(0,I.GP)(R,"mm"):"00"),J=r.useMemo(()=>{if(!k)return;let e=new Date(k),t=parseInt(X,10),s=parseInt(q,10);return isNaN(t)||isNaN(s)||e.setHours(t,s,0,0),e},[k,X,q]),Q=!!J&&(0,B.d)(J,b),ee=async function(e,t){for(var s=arguments.length,a=Array(s>2?s-2:0),r=2;r<s;r++)a[r-2]=arguments[r];if(!d){o({title:"Not Authenticated",description:"You must be signed in.",variant:"destructive"});return}h(!0),x(e=>({...e,...t}));try{let t=await d.getIdToken(),s=await e(t,u.id,...a);s.success?(o({title:"Success!",description:s.message}),m.refresh()):(o({title:"Action Failed",description:s.message,variant:"destructive"}),x(u))}catch(e){o({title:"An Unexpected Error Occurred",description:e.message,variant:"destructive"}),x(u)}h(!1)},et=w.getTime()>b.getTime()-1728e5&&!T;return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{children:["Schedule vs. ",v.name]}),(0,a.jsxs)(n.BT,{children:["Round Deadline: ",(0,I.GP)(b,"PPP 'at' HH:mm")]})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[et&&!S&&(0,a.jsxs)("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md flex items-center text-yellow-300",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 mr-3"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Deadline approaching! Agree on a time to avoid the default."})]}),T&&!S&&(0,a.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-md flex items-center text-red-300",children:[(0,a.jsx)(y.A,{className:"h-5 w-5 mr-3"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Deadline has passed. Scheduling is locked."})]}),(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-1",children:"Official Match Time"}),S?(0,a.jsx)("p",{className:"text-lg font-bold text-primary",children:(0,I.GP)(S,"PPPP 'at' HH:mm")}):(0,a.jsxs)("p",{className:"text-muted-foreground italic",children:["Not yet scheduled. Defaults to ",(0,I.GP)(P,"PPP 'at' HH:mm")]})]}),!S&&!T&&(0,a.jsxs)("div",{children:["unscheduled"===u.schedulingStatus&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsxs)(D.AM,{open:p,onOpenChange:g,children:[(0,a.jsx)(D.Wv,{asChild:!0,children:(0,a.jsxs)(N.$,{variant:"outline",className:"flex-grow justify-start font-normal",children:[(0,a.jsx)(H.A,{className:"mr-2 h-4 w-4"}),J?(0,I.GP)(J,"PPP 'at' HH:mm"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsxs)(D.hl,{className:"w-auto p-0",children:[(0,a.jsx)(C.V,{mode:"single",selected:k,onSelect:L,disabled:e=>(0,B.d)(e,b),initialFocus:!0}),(0,a.jsxs)("div",{className:"p-4 border-t border-border",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"Set Time (24h format)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.p,{type:"number",value:X,onChange:e=>$(e.target.value),min:"0",max:"23",className:"w-16"}),(0,a.jsx)("span",{children:":"}),(0,a.jsx)(M.p,{type:"number",value:q,onChange:e=>Y(e.target.value),min:"0",max:"59",step:"1",className:"w-16"})]}),(0,a.jsx)(N.$,{variant:"outline",size:"sm",onClick:()=>g(!1),className:"w-full mt-4",children:"Done"})]})]})]}),(0,a.jsxs)(N.$,{onClick:()=>{J&&!Q?(ee(F,{schedulingStatus:"proposed",proposedTime:J.toISOString(),proposingCaptainId:l,proposedById:s},J),g(!1)):o({title:"Invalid Time",description:"Cannot propose a time after the deadline.",variant:"destructive"})},disabled:!J||f||Q,children:[f?(0,a.jsx)(E.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(O.A,{className:"mr-2 h-4 w-4"}),"Propose Time"]})]}),Q&&(0,a.jsx)("p",{className:"text-xs text-destructive mt-2 text-center",children:"The selected time is after the match deadline."}),"proposed"===u.schedulingStatus&&R&&(0,a.jsxs)(a.Fragment,{children:[j&&(0,a.jsxs)("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-md text-center space-y-3",children:[(0,a.jsx)("p",{className:"font-semibold",children:"You proposed a new time!"}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-300",children:(0,I.GP)(R,"PPPP 'at' HH:mm")}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Waiting for ",v.name," to respond."]}),(0,a.jsx)(N.$,{variant:"ghost",size:"sm",onClick:()=>{ee(U,{schedulingStatus:"unscheduled",status:"scheduled",proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})},disabled:f,className:"w-full mt-2",children:f?(0,a.jsx)(E.A,{className:"h-4 w-4 animate-spin"}):"Cancel Proposal"})]}),!j&&(0,a.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,a.jsxs)("p",{className:"font-semibold",children:[v.name," proposed a new time:"]}),(0,a.jsx)("p",{className:"text-lg font-bold text-primary my-2",children:(0,I.GP)(R,"PPPP 'at' HH:mm")}),(0,B.d)(R,b)&&(0,a.jsx)("p",{className:"text-sm text-destructive my-2",children:"This proposal is invalid as it is after the deadline."}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,a.jsxs)(N.$,{onClick:()=>{if(u.proposedTime){if((0,B.d)(new Date(u.proposedTime),b)){o({title:"Invalid Time",description:"Cannot accept a time that is past the deadline.",variant:"destructive"});return}ee(K,{schedulingStatus:"confirmed",status:"scheduled",dateTime:u.proposedTime,proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})}},variant:"secondary",className:"bg-green-500 hover:bg-green-600",disabled:f||(0,B.d)(R,b),children:[f?(0,a.jsx)(E.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),"Accept"]}),(0,a.jsxs)(N.$,{onClick:()=>{ee(z,{schedulingStatus:"unscheduled",status:"scheduled",proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})},variant:"destructive",disabled:f,children:[f?(0,a.jsx)(E.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(W.A,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]})]})]})]})}var $=s(85127),q=s(6874),Y=s.n(q),J=s(3638);function Q(e){let{matches:t,teamId:s}=e;return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Match History"]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)($.XI,{children:[(0,a.jsx)($.A0,{children:(0,a.jsxs)($.Hj,{children:[(0,a.jsx)($.nd,{children:"Opponent"}),(0,a.jsx)($.nd,{children:"Result"}),(0,a.jsx)($.nd,{children:"Score"}),(0,a.jsx)($.nd,{children:"Date"}),(0,a.jsx)($.nd,{children:"Link"})]})}),(0,a.jsx)($.BF,{children:t.map(e=>{var t,r,i,l,n,d;let o=e.teamA.id===s?e.teamB:e.teamA,c=e.teamA.id===s&&(null!==(t=e.teamA.score)&&void 0!==t?t:0)>(null!==(r=e.teamB.score)&&void 0!==r?r:0)||e.teamB.id===s&&(null!==(i=e.teamB.score)&&void 0!==i?i:0)>(null!==(l=e.teamA.score)&&void 0!==l?l:0),m="completed"===e.status?c?"Win":"Loss":"N/A",u="completed"===e.status?"".concat(null!==(n=e.teamA.score)&&void 0!==n?n:"-"," - ").concat(null!==(d=e.teamB.score)&&void 0!==d?d:"-"):"-";return(0,a.jsxs)($.Hj,{children:[(0,a.jsx)($.nA,{children:(0,a.jsx)(Y(),{href:"/teams/".concat(o.id),className:"font-medium hover:text-primary",children:o.name})}),(0,a.jsx)($.nA,{className:(0,g.cn)("font-semibold","Win"===m?"text-green-400":"text-red-400"),children:m}),(0,a.jsx)($.nA,{children:u}),(0,a.jsx)($.nA,{children:e.dateTime?new Date(e.dateTime).toLocaleDateString():"TBD"}),(0,a.jsx)($.nA,{children:"-"})]},e.id)})})]}),0===t.length&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No past matches found."})]})]})}var ee=s(85268),et=s(97723),es=s(80659),ea=s(77070),er=s(5263),ei=s(91467);function el(e){let{icon:t,label:s,value:r,description:i}=e;return(0,a.jsxs)(n.Zp,{className:"shadow-md bg-muted/20",children:[(0,a.jsx)(n.aR,{className:"pb-2",children:(0,a.jsxs)(n.ZB,{className:"text-lg flex items-center text-accent",children:[(0,a.jsx)(t,{className:"h-5 w-5 mr-2"}),s]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-foreground",children:r}),i&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]})]})}function en(e){var t,s,r,i,l,d,o,c,m,u,x,f,h,p,g,v,j,b;let{team:N}=e;if(!N)return(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,t)=>(0,a.jsxs)(n.Zp,{className:"shadow-md bg-muted/20 animate-pulse",children:[(0,a.jsx)(n.aR,{className:"pb-2",children:(0,a.jsx)("div",{className:"h-5 bg-muted rounded w-3/4"})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-muted rounded w-full"})]})]},t))});let w=(null!==(l=N.wins)&&void 0!==l?l:0)+(null!==(d=N.losses)&&void 0!==d?d:0)+(null!==(o=N.draws)&&void 0!==o?o:0),A=w>0?(null!==(c=N.wins)&&void 0!==c?c:0)/w*100:0,T=N.averageDeathsPerGame&&N.averageDeathsPerGame>0?(((null!==(m=N.averageKillsPerGame)&&void 0!==m?m:0)+(null!==(u=N.averageAssistsPerGame)&&void 0!==u?u:0))/N.averageDeathsPerGame).toFixed(2):"Perfect";return(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(el,{icon:ee.A,label:"Record",value:"".concat(null!==(x=N.wins)&&void 0!==x?x:0,"W - ").concat(null!==(f=N.losses)&&void 0!==f?f:0,"L - ").concat(null!==(h=N.draws)&&void 0!==h?h:0,"D"),description:"Wins / Losses"}),(0,a.jsx)(el,{icon:et.A,label:"Win Rate",value:"".concat(A.toFixed(1),"%"),description:"".concat(w," games played")}),(0,a.jsx)(el,{icon:y.A,label:"Avg. Duration",value:"".concat(null!==(p=N.averageMatchDurationMinutes)&&void 0!==p?p:0," min"),description:"Average match length"}),(0,a.jsx)(el,{icon:es.A,label:"Avg. KDA",value:T,description:"Team KDA Ratio"}),(0,a.jsx)(el,{icon:es.A,label:"Avg. Kills",value:null!==(g=null===(t=N.averageKillsPerGame)||void 0===t?void 0:t.toFixed(1))&&void 0!==g?g:"N/A",description:"Kills per game"}),(0,a.jsx)(el,{icon:ea.A,label:"Avg. Deaths",value:null!==(v=null===(s=N.averageDeathsPerGame)||void 0===s?void 0:s.toFixed(1))&&void 0!==v?v:"N/A",description:"Deaths per game"}),(0,a.jsx)(el,{icon:er.A,label:"Avg. Assists",value:null!==(j=null===(r=N.averageAssistsPerGame)||void 0===r?void 0:r.toFixed(1))&&void 0!==j?j:"N/A",description:"Assists per game"}),(0,a.jsx)(el,{icon:ei.A,label:"Avg. Fantasy Pts",value:null!==(b=null===(i=N.averageFantasyPoints)||void 0===i?void 0:i.toFixed(1))&&void 0!==b?b:"N/A",description:"Team fantasy total"})]})}var ed=s(9133),eo=s(67270),ec=s(46102);let em=[{key:"avgKda",label:"KDA",description:"Kills, Deaths, Assists Ratio ((K+A)/D)"},{key:"avgKillParticipation",label:"KP%",description:"Kill Participation Percentage"},{key:"avgGPM",label:"GPM",description:"Gold Per Minute"},{key:"avgXPM",label:"XPM",description:"Experience Per Minute"},{key:"avgLastHitsPerMinute",label:"LH/min",description:"Last Hits Per Minute"},{key:"avgHeroDamagePerMinute",label:"HD/min",description:"Hero Damage Per Minute"},{key:"avgTowerDamagePerMinute",label:"TD/min",description:"Tower Damage Per Minute"},{key:"avgWardsPlacedPerMinute",label:"Wards/min",description:"Wards Placed Per Minute"},{key:"avgStunsPerMinute",label:"Stuns/min",description:"Stun Duration Per Minute"},{key:"avgSaves",label:"Saves",description:"Saves on Teammates"},{key:"avgCampsStacked",label:"Stacks",description:"Camps Stacked"}];function eu(e){let{team:t}=e,s=(null==t?void 0:t.players)||[];return(0,a.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,a.jsx)(ed.A,{className:"mr-2"}),"Player Analytics"]}),(0,a.jsx)(n.BT,{children:"Hover over column headers for stat descriptions. All stats are averaged per game."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)($.XI,{children:(0,a.jsxs)(ec.TooltipProvider,{children:[(0,a.jsx)($.A0,{children:(0,a.jsxs)($.Hj,{children:[(0,a.jsx)($.nd,{className:"sticky left-0 bg-card z-10",children:"Player"}),em.map(e=>(0,a.jsx)($.nd,{className:"text-center",children:(0,a.jsxs)(ec.Tooltip,{children:[(0,a.jsxs)(ec.TooltipTrigger,{className:"flex items-center justify-center w-full",children:[e.label," ",(0,a.jsx)(eo.A,{className:"h-3.5 w-3.5 ml-1.5 opacity-50"})]}),(0,a.jsx)(ec.TooltipContent,{children:e.description})]})},e.key))]})}),(0,a.jsx)($.BF,{children:s.length>0?s.map((e,t)=>{let s=e.id||e.nickname||t;return(0,a.jsxs)($.Hj,{children:[(0,a.jsx)($.nA,{className:"font-medium sticky left-0 bg-card z-10",children:e.nickname}),em.map(t=>{var r,i;return(0,a.jsx)($.nA,{className:"text-center",children:null!==(i=null===(r=e[t.key])||void 0===r?void 0:r.toFixed(2))&&void 0!==i?i:"N/A"},"".concat(s,"-").concat(t.key))})]},s)}):(0,a.jsx)($.Hj,{children:(0,a.jsx)($.nA,{colSpan:em.length+1,className:"text-center h-24",children:"No player data available."})})})]})})})})]})}let ex=(0,L.createServerReference)("400ce42ea544b25937a70588778fd3d4fc134add5a",L.callServer,void 0,L.findSourceMapURL,"getUserTeam");var ef=s(9086);function eh(){let{user:e,loading:t,signInWithGoogle:s}=(0,i.A)(),[l,o]=r.useState(null),[c,m]=r.useState([]),[u,x]=r.useState(!1),[f,h]=r.useState(!0);if(r.useEffect(()=>{let s=async()=>{if(e){h(!0);let{hasTeam:t,team:s}=await ex(e.uid);x(t),o(s||null),s&&m(await (0,ef.mp)(s.id)),h(!1)}else h(!1)};t||s()},[e,t]),t||f)return(0,a.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)]",children:(0,a.jsx)(E.A,{className:"h-16 w-16 animate-spin"})});if(!e)return(0,a.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)] p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-lg text-center shadow-lg border-0 bg-gradient-to-br from-[#181c2f] via-[#3a295a] to-[#2d1b3c]",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{className:"text-3xl font-bold text-[#0ff0fc] drop-shadow-[0_0_8px_#0ff0fc]",children:"Welcome, Future Captain!"}),(0,a.jsxs)(n.BT,{className:"text-lg text-[#b86fc6] pt-2",children:["Ready to join the tournament? Register your team and lead them to glory.",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"block mt-2 text-[#e0d7f7]",children:["Need a team or looking for players? Join our ",(0,a.jsx)("a",{href:"https://discord.gg/letniatournament",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#0ff0fc]",children:"Discord"})," and visit the #find-a-team channel!"]})]})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-[#e0d7f7]",children:"Sign in to get started and create your team."}),(0,a.jsx)("button",{type:"button",onClick:s,className:"w-full py-3 px-6 rounded-lg font-bold text-lg bg-[#0ff0fc] text-[#181c2f] hover:bg-[#b86fc6] hover:text-[#fff] transition-all duration-300 shadow-lg drop-shadow-[0_0_8px_#0ff0fc]",children:"Sign in with Google"})]})]})});if(!u)return(0,a.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)] p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-lg text-center shadow-lg border-0 bg-gradient-to-br from-[#181c2f] via-[#3a295a] to-[#2d1b3c]",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{className:"text-3xl font-bold text-[#0ff0fc] drop-shadow-[0_0_8px_#0ff0fc]",children:"Welcome, Future Captain!"}),(0,a.jsxs)(n.BT,{className:"text-lg text-[#b86fc6] pt-2",children:["Ready to join the tournament? Register your team and lead them to glory.",(0,a.jsx)("br",{}),(0,a.jsxs)("span",{className:"block mt-2 text-[#e0d7f7]",children:["Need a team or looking for players? Join our ",(0,a.jsx)("a",{href:"https://discord.gg/letniatournament",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#0ff0fc]",children:"Discord"})," and visit the #find-a-team channel!"]})]})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-[#e0d7f7]",children:"Take the first step and register your team."}),(0,a.jsx)("button",{type:"button",onClick:()=>window.location.href="/register",className:"w-full py-3 px-6 rounded-lg font-bold text-lg bg-[#b86fc6] text-[#fff] hover:bg-[#0ff0fc] hover:text-[#181c2f] transition-all duration-300 shadow-lg drop-shadow-[0_0_8px_#b86fc6]",children:"Register your team"})]})]})});if(!l)return(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)(E.A,{className:"h-16 w-16 animate-spin"})});let p=c.filter(e=>"completed"!==e.status),g=c.filter(e=>"completed"===e.status);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(d,{team:l}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[p.length>0?p.map(t=>(0,a.jsx)(X,{match:t,teamId:l.id,captainId:e.uid},t.id)):(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"No Upcoming Matches"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{children:"Your team has no matches scheduled."})})]}),(0,a.jsx)(Q,{matches:g,teamId:l.id})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(j,{team:l}),(0,a.jsx)(k,{team:l})]})]}),(0,a.jsx)(en,{team:l}),(0,a.jsx)(eu,{team:l})]})}},59576:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>o});var a=s(95155),r=s(12115),i=s(93004),l=s(56104),n=s(87481);let d=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0),{toast:u}=(0,n.dj)();(0,r.useEffect)(()=>{let e=(0,i.hg)(l.j2,e=>{o(e),m(!1)});return()=>e()},[]);let x=async()=>{let e=new i.HF;try{let t=await (0,i.df)(l.j2,e);if(t&&t.user){let e=await t.user.getIdToken();await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})}),u({title:"Signed In",description:"You have successfully signed in with Google."})}}catch(e){console.error("Error signing in with Google:",e),"auth/popup-closed-by-user"!==e.code&&u({title:"Sign-in Error",description:"Could not sign in with Google. Please try again.",variant:"destructive"})}},f=async()=>{try{await (0,i.CI)(l.j2),await fetch("/api/auth/session",{method:"DELETE"}),u({title:"Signed Out",description:"You have been successfully signed out."})}catch(e){console.error("Error signing out:",e),u({title:"Sign-out Error",description:"Could not sign out. Please try again.",variant:"destructive"})}};return(0,a.jsx)(d.Provider,{value:{user:s,loading:c,signInWithGoogle:x,signOut:f},children:t})},c=()=>{let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(95155),r=s(12115),i=s(59434);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},81878:(e,t,s)=>{Promise.resolve().then(s.bind(s,55388))},85127:(e,t,s)=>{"use strict";s.d(t,{A0:()=>n,BF:()=>d,Hj:()=>o,XI:()=>l,nA:()=>m,nd:()=>c});var a=s(95155),r=s(12115),i=s(59434);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",s),...r})})});l.displayName="Table";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",s),...r})});n.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});c.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},85511:(e,t,s)=>{"use strict";s.d(t,{V:()=>o});var a=s(95155);s(12115);var r=s(965),i=s(73158),l=s(3611),n=s(59434),d=s(30285);function o(e){let{className:t,classNames:s,showOutsideDays:o=!0,...c}=e;return(0,a.jsx)(l.hv,{showOutsideDays:o,className:(0,n.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:t,...s}=e;return(0,a.jsx)(r.A,{className:(0,n.cn)("h-4 w-4",t),...s})},IconRight:e=>{let{className:t,...s}=e;return(0,a.jsx)(i.A,{className:(0,n.cn)("h-4 w-4",t),...s})}},...c})}o.displayName="Calendar"},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var a=s(12115);let r=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=n(o,e),d.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},90503:(e,t,s)=>{"use strict";s.d(t,{TimeProvider:()=>l,z:()=>n});var a=s(95155),r=s(12115);let i=(0,r.createContext)(void 0),l=e=>{let{children:t}=e,[s,l]=(0,r.useState)(new Date);return(0,a.jsx)(i.Provider,{value:{simulatedTime:s,setSimulatedTime:l},children:t})},n=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useTime must be used within a TimeProvider");return e}},91394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>d,eu:()=>n,q5:()=>o});var a=s(95155),r=s(12115),i=s(54011),l=s(59434);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});n.displayName=i.bL.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",s),...r})});d.displayName=i._V.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});o.displayName=i.H4.displayName},92008:(e,t,s)=>{"use strict";s.d(t,{PlayerAvatar:()=>n});var a=s(95155);s(12115);var r=s(91394),i=s(59434);let l={small:"h-10 w-10",medium:"h-16 w-16",large:"h-32 w-32"};function n(e){let{player:t,size:s="medium",className:n}=e;if(!t)return(0,a.jsxs)(r.eu,{className:(0,i.cn)(l[s],n),children:[(0,a.jsx)(r.BK,{src:"https://placehold.co/128x128.png?text=??"}),(0,a.jsx)(r.q5,{children:"??"})]});let d="large"===s?t.avatarfull:t.avatarmedium||t.avatar,o=t.nickname.substring(0,2);return(0,a.jsxs)(r.eu,{className:(0,i.cn)(l[s],n),children:[(0,a.jsx)(r.BK,{src:d||"https://placehold.co/128x128.png?text=".concat(o)}),(0,a.jsx)(r.q5,{children:o})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7138,4277,6874,2759,3063,6433,5725,1345,3013,9613,287,9816,1776,8441,1684,7358],()=>t(81878)),_N_E=e.O()}]);