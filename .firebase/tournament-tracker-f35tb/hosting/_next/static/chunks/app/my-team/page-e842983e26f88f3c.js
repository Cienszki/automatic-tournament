(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{14636:(e,a,s)=>{"use strict";s.d(a,{AM:()=>n,Wv:()=>d,hl:()=>c});var t=s(95155),r=s(12115),l=s(20547),i=s(59434);let n=l.bL,d=l.l9,c=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:n=4,...d}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:a,align:r,sideOffset:n,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})})});c.displayName=l.UC.displayName},26126:(e,a,s)=>{"use strict";s.d(a,{E:()=>n});var t=s(95155);s(12115);var r=s(74466),l=s(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(i({variant:s}),a),...r})}},46102:(e,a,s)=>{"use strict";s.d(a,{Tooltip:()=>d,TooltipContent:()=>o,TooltipProvider:()=>n,TooltipTrigger:()=>c});var t=s(95155),r=s(12115),l=s(89613),i=s(59434);let n=l.Kq,d=l.bL,c=l.l9,o=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,t.jsx)(l.UC,{ref:a,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});o.displayName=l.UC.displayName},55388:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ep});var t=s(95155),r=s(12115),l=s(59576),i=s(66766),n=s(66695);function d(e){let{team:a}=e;return(0,t.jsx)(n.Zp,{className:"shadow-xl overflow-hidden",children:(0,t.jsx)(n.aR,{className:"p-6 bg-muted/30",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[(0,t.jsx)(i.default,{src:a.logoUrl||"https://placehold.co/128x128.png",alt:"".concat(a.name," Logo"),width:100,height:100,className:"rounded-lg border-2 border-card shadow-md","data-ai-hint":"team logo"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(n.ZB,{className:"text-4xl text-secondary",children:a.name}),(0,t.jsxs)(n.BT,{className:"mt-1 italic text-base",children:['"',a.motto,'"']})]})]})})})}var c=s(21816),o=s(74601),m=s(45731),u=s(49291),x=s(17607),h=s(50286),p=s(60960),f=s(92008),g=s(59434);let v={Carry:c.A,Mid:o.A,Offlane:m.A,"Soft Support":u.A,"Hard Support":x.A};function j(e){let{team:a,upcomingMatches:s}=e;if(!a)return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(h.A,{className:"mr-2"}),"Team Roster"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"No team data available."})})]});let r=(0,g.MX)(a.players||[]);return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(h.A,{className:"mr-2"}),"Team Roster"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("ul",{className:"space-y-4",children:r.map((e,a)=>{let s=v[e.role]||p.A,r=e.id||e.nickname||a;return(0,t.jsxs)("li",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(f.PlayerAvatar,{player:e}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-foreground",children:e.nickname}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.mmr.toLocaleString()," MMR"]})]})]}),(0,t.jsx)(s,{className:"h-6 w-6 text-muted-foreground"})]},r)})})})]})}var b=s(26126),N=s(30285),y=s(37648),w=s(8376),A=s(31949),P=s(76603),T=s(50594),S=s(19637);let R={pending:{icon:y.A,className:"bg-yellow-500 hover:bg-yellow-600"},verified:{icon:w.A,className:"bg-green-500 hover:bg-green-600"},warning:{icon:A.A,className:"bg-orange-500 hover:bg-orange-600"},banned:{icon:P.A,className:"bg-red-500 hover:bg-red-600"},rejected:{icon:P.A,className:"bg-red-500 hover:bg-red-600"}};function k(e){let{team:a}=e;if(!a)return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(T.A,{className:"mr-2"}),"Team Status"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Loading status..."})})]});let{icon:s,className:r}=R[a.status]||R.pending;return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(T.A,{className:"mr-2"}),"Team Status"]})}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)(b.E,{className:(0,g.cn)("px-3 py-1.5 text-sm w-full justify-center text-white",r),children:[(0,t.jsx)(s,{className:"mr-2 h-4 w-4"}),a.status]}),(0,t.jsxs)(N.$,{variant:"outline",className:"w-full",onClick:()=>alert("Contact Admin form (simulated)"),children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"})," Contact Admin"]})]})]})}var D=s(35695),_=s(14636),C=s(85511),M=s(62523),B=s(83013),H=s(53941),Z=s(51920),W=s(50172),I=s(73672),L=s(10518),G=s(25318),F=s(90503),K=s(34477);let z=(0,K.createServerReference)("7004dcf59cfb41b0fba203c74104798e17115ff750",K.callServer,void 0,K.findSourceMapURL,"proposeMatchTime"),U=(0,K.createServerReference)("60d1f09eb23c9915fdc059703f11801f2be9f273b0",K.callServer,void 0,K.findSourceMapURL,"acceptMatchTime"),O=(0,K.createServerReference)("60881d901dc33f655505f3235e3dfe5177a708c67c",K.callServer,void 0,K.findSourceMapURL,"rejectMatchTime"),E=(0,K.createServerReference)("60f4e9bf2b65844af7438cd772b12aac2efff46749",K.callServer,void 0,K.findSourceMapURL,"cancelProposal");var $=s(87481);function X(e){let{match:a,teamId:s,captainId:i}=e,{user:d}=(0,l.A)(),{toast:c}=(0,$.dj)(),{simulatedTime:o}=(0,F.z)(),m=(0,D.useRouter)(),[u,x]=r.useState(a),[h,p]=r.useState(!1),[f,g]=r.useState(!1);r.useEffect(()=>{x(a)},[a]);let v=u.teamA.id===s?u.teamB:u.teamA,j=u.proposedById===s,b=new Date(u.scheduled_for||0),w=o||new Date,P=w>b,T=u.dateTime?new Date(u.dateTime):null,S=new Date(u.defaultMatchTime||0),R=u.proposedTime?new Date(u.proposedTime):null,[k,K]=r.useState(R||S||new Date),[X,q]=r.useState(R?(0,B.GP)(R,"HH"):"18"),[V,Y]=r.useState(R?(0,B.GP)(R,"mm"):"00"),J=r.useMemo(()=>{if(!k)return;let e=new Date(k),a=parseInt(X,10),s=parseInt(V,10);return isNaN(a)||isNaN(s)||e.setHours(a,s,0,0),e},[k,X,V]),Q=!!J&&(0,H.d)(J,b),ee=async function(e,a){for(var s=arguments.length,t=Array(s>2?s-2:0),r=2;r<s;r++)t[r-2]=arguments[r];if(!d){c({title:"Not Authenticated",description:"You must be signed in.",variant:"destructive"});return}p(!0),x(e=>({...e,...a}));try{let a=await d.getIdToken(),s=await e(a,u.id,...t);s.success?(c({title:"Success!",description:s.message}),m.refresh()):(c({title:"Action Failed",description:s.message,variant:"destructive"}),x(u))}catch(e){c({title:"An Unexpected Error Occurred",description:e.message,variant:"destructive"}),x(u)}p(!1)},ea=w.getTime()>b.getTime()-1728e5&&!P;return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{children:["Schedule vs. ",v.name]}),(0,t.jsxs)(n.BT,{children:["Round Deadline: ",(0,B.GP)(b,"PPP 'at' HH:mm")]})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[ea&&!T&&(0,t.jsxs)("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md flex items-center text-yellow-300",children:[(0,t.jsx)(A.A,{className:"h-5 w-5 mr-3"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Deadline approaching! Agree on a time to avoid the default."})]}),P&&!T&&(0,t.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-md flex items-center text-red-300",children:[(0,t.jsx)(y.A,{className:"h-5 w-5 mr-3"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Deadline has passed. Scheduling is locked."})]}),(0,t.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-1",children:"Official Match Time"}),T?(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:(0,B.GP)(T,"PPPP 'at' HH:mm")}):(0,t.jsxs)("p",{className:"text-muted-foreground italic",children:["Not yet scheduled. Defaults to ",(0,B.GP)(S,"PPP 'at' HH:mm")]})]}),!T&&!P&&(0,t.jsxs)("div",{children:["unscheduled"===u.schedulingStatus&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(_.AM,{open:f,onOpenChange:g,children:[(0,t.jsx)(_.Wv,{asChild:!0,children:(0,t.jsxs)(N.$,{variant:"outline",className:"flex-grow justify-start font-normal",children:[(0,t.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),J?(0,B.GP)(J,"PPP 'at' HH:mm"):(0,t.jsx)("span",{children:"Pick a date"})]})}),(0,t.jsxs)(_.hl,{className:"w-auto p-0",children:[(0,t.jsx)(C.V,{mode:"single",selected:k,onSelect:K,disabled:e=>(0,H.d)(e,b),initialFocus:!0}),(0,t.jsxs)("div",{className:"p-4 border-t border-border",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"Set Time (24h format)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.p,{type:"number",value:X,onChange:e=>q(e.target.value),min:"0",max:"23",className:"w-16"}),(0,t.jsx)("span",{children:":"}),(0,t.jsx)(M.p,{type:"number",value:V,onChange:e=>Y(e.target.value),min:"0",max:"59",step:"1",className:"w-16"})]}),(0,t.jsx)(N.$,{variant:"outline",size:"sm",onClick:()=>g(!1),className:"w-full mt-4",children:"Done"})]})]})]}),(0,t.jsxs)(N.$,{onClick:()=>{J&&!Q?(ee(z,{schedulingStatus:"proposed",proposedTime:J.toISOString(),proposingCaptainId:i,proposedById:s},J),g(!1)):c({title:"Invalid Time",description:"Cannot propose a time after the deadline.",variant:"destructive"})},disabled:!J||h||Q,children:[h?(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(I.A,{className:"mr-2 h-4 w-4"}),"Propose Time"]})]}),Q&&(0,t.jsx)("p",{className:"text-xs text-destructive mt-2 text-center",children:"The selected time is after the match deadline."}),"proposed"===u.schedulingStatus&&R&&(0,t.jsxs)(t.Fragment,{children:[j&&(0,t.jsxs)("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-md text-center space-y-3",children:[(0,t.jsx)("p",{className:"font-semibold",children:"You proposed a new time!"}),(0,t.jsx)("p",{className:"text-lg font-bold text-blue-300",children:(0,B.GP)(R,"PPPP 'at' HH:mm")}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Waiting for ",v.name," to respond."]}),(0,t.jsx)(N.$,{variant:"ghost",size:"sm",onClick:()=>{ee(E,{schedulingStatus:"unscheduled",status:"scheduled",proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})},disabled:h,className:"w-full mt-2",children:h?(0,t.jsx)(W.A,{className:"h-4 w-4 animate-spin"}):"Cancel Proposal"})]}),!j&&(0,t.jsxs)("div",{className:"text-center p-4 border rounded-md",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[v.name," proposed a new time:"]}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary my-2",children:(0,B.GP)(R,"PPPP 'at' HH:mm")}),(0,H.d)(R,b)&&(0,t.jsx)("p",{className:"text-sm text-destructive my-2",children:"This proposal is invalid as it is after the deadline."}),(0,t.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,t.jsxs)(N.$,{onClick:()=>{if(u.proposedTime){if((0,H.d)(new Date(u.proposedTime),b)){c({title:"Invalid Time",description:"Cannot accept a time that is past the deadline.",variant:"destructive"});return}ee(U,{schedulingStatus:"confirmed",status:"scheduled",dateTime:u.proposedTime,proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})}},variant:"secondary",className:"bg-green-500 hover:bg-green-600",disabled:h||(0,H.d)(R,b),children:[h?(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(L.A,{className:"mr-2 h-4 w-4"}),"Accept"]}),(0,t.jsxs)(N.$,{onClick:()=>{ee(O,{schedulingStatus:"unscheduled",status:"scheduled",proposedTime:void 0,proposingCaptainId:void 0,proposedById:void 0})},variant:"destructive",disabled:h,children:[h?(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]})]})]})]})}var q=s(85127),V=s(6874),Y=s.n(V),J=s(3638);function Q(e){let{matches:a,teamId:s}=e;return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(J.A,{className:"mr-2"}),"Match History"]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)(q.XI,{children:[(0,t.jsx)(q.A0,{children:(0,t.jsxs)(q.Hj,{children:[(0,t.jsx)(q.nd,{children:"Opponent"}),(0,t.jsx)(q.nd,{children:"Result"}),(0,t.jsx)(q.nd,{children:"Score"}),(0,t.jsx)(q.nd,{children:"Date"}),(0,t.jsx)(q.nd,{children:"Link"})]})}),(0,t.jsx)(q.BF,{children:a.map(e=>{var a,r,l,i,n,d;let c=e.teamA.id===s?e.teamB:e.teamA,o=e.teamA.id===s&&(null!==(a=e.teamA.score)&&void 0!==a?a:0)>(null!==(r=e.teamB.score)&&void 0!==r?r:0)||e.teamB.id===s&&(null!==(l=e.teamB.score)&&void 0!==l?l:0)>(null!==(i=e.teamA.score)&&void 0!==i?i:0),m="completed"===e.status?o?"Win":"Loss":"N/A",u="completed"===e.status?"".concat(null!==(n=e.teamA.score)&&void 0!==n?n:"-"," - ").concat(null!==(d=e.teamB.score)&&void 0!==d?d:"-"):"-";return(0,t.jsxs)(q.Hj,{children:[(0,t.jsx)(q.nA,{children:(0,t.jsx)(Y(),{href:"/teams/".concat(c.id),className:"font-medium hover:text-primary",children:c.name})}),(0,t.jsx)(q.nA,{className:(0,g.cn)("font-semibold","Win"===m?"text-green-400":"text-red-400"),children:m}),(0,t.jsx)(q.nA,{children:u}),(0,t.jsx)(q.nA,{children:e.dateTime?new Date(e.dateTime).toLocaleDateString():"TBD"}),(0,t.jsx)(q.nA,{children:"-"})]},e.id)})})]}),0===a.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No past matches found."})]})]})}var ee=s(85268),ea=s(97723),es=s(80659),et=s(77070),er=s(5263),el=s(91467);function ei(e){let{icon:a,label:s,value:r,description:l}=e;return(0,t.jsxs)(n.Zp,{className:"shadow-md bg-muted/20",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsxs)(n.ZB,{className:"text-lg flex items-center text-accent",children:[(0,t.jsx)(a,{className:"h-5 w-5 mr-2"}),s]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:r}),l&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:l})]})]})}function en(e){var a,s,r,l,i,d,c,o,m,u,x,h,p,f,g,v,j,b;let{team:N}=e;if(!N)return(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,a)=>(0,t.jsxs)(n.Zp,{className:"shadow-md bg-muted/20 animate-pulse",children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)("div",{className:"h-5 bg-muted rounded w-3/4"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"h-8 bg-muted rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-full"})]})]},a))});let w=(null!==(i=N.wins)&&void 0!==i?i:0)+(null!==(d=N.losses)&&void 0!==d?d:0)+(null!==(c=N.draws)&&void 0!==c?c:0),A=w>0?(null!==(o=N.wins)&&void 0!==o?o:0)/w*100:0,P=N.averageDeathsPerGame&&N.averageDeathsPerGame>0?(((null!==(m=N.averageKillsPerGame)&&void 0!==m?m:0)+(null!==(u=N.averageAssistsPerGame)&&void 0!==u?u:0))/N.averageDeathsPerGame).toFixed(2):"Perfect";return(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(ei,{icon:ee.A,label:"Record",value:"".concat(null!==(x=N.wins)&&void 0!==x?x:0,"W - ").concat(null!==(h=N.losses)&&void 0!==h?h:0,"L - ").concat(null!==(p=N.draws)&&void 0!==p?p:0,"D"),description:"Wins / Losses"}),(0,t.jsx)(ei,{icon:ea.A,label:"Win Rate",value:"".concat(A.toFixed(1),"%"),description:"".concat(w," games played")}),(0,t.jsx)(ei,{icon:y.A,label:"Avg. Duration",value:"".concat(null!==(f=N.averageMatchDurationMinutes)&&void 0!==f?f:0," min"),description:"Average match length"}),(0,t.jsx)(ei,{icon:es.A,label:"Avg. KDA",value:P,description:"Team KDA Ratio"}),(0,t.jsx)(ei,{icon:es.A,label:"Avg. Kills",value:null!==(g=null===(a=N.averageKillsPerGame)||void 0===a?void 0:a.toFixed(1))&&void 0!==g?g:"N/A",description:"Kills per game"}),(0,t.jsx)(ei,{icon:et.A,label:"Avg. Deaths",value:null!==(v=null===(s=N.averageDeathsPerGame)||void 0===s?void 0:s.toFixed(1))&&void 0!==v?v:"N/A",description:"Deaths per game"}),(0,t.jsx)(ei,{icon:er.A,label:"Avg. Assists",value:null!==(j=null===(r=N.averageAssistsPerGame)||void 0===r?void 0:r.toFixed(1))&&void 0!==j?j:"N/A",description:"Assists per game"}),(0,t.jsx)(ei,{icon:el.A,label:"Avg. Fantasy Pts",value:null!==(b=null===(l=N.averageFantasyPoints)||void 0===l?void 0:l.toFixed(1))&&void 0!==b?b:"N/A",description:"Team fantasy total"})]})}var ed=s(9133),ec=s(67270),eo=s(46102);let em=[{key:"avgKda",label:"KDA",description:"Kills, Deaths, Assists Ratio ((K+A)/D)"},{key:"avgKillParticipation",label:"KP%",description:"Kill Participation Percentage"},{key:"avgGPM",label:"GPM",description:"Gold Per Minute"},{key:"avgXPM",label:"XPM",description:"Experience Per Minute"},{key:"avgLastHitsPerMinute",label:"LH/min",description:"Last Hits Per Minute"},{key:"avgHeroDamagePerMinute",label:"HD/min",description:"Hero Damage Per Minute"},{key:"avgTowerDamagePerMinute",label:"TD/min",description:"Tower Damage Per Minute"},{key:"avgWardsPlacedPerMinute",label:"Wards/min",description:"Wards Placed Per Minute"},{key:"avgStunsPerMinute",label:"Stuns/min",description:"Stun Duration Per Minute"},{key:"avgSaves",label:"Saves",description:"Saves on Teammates"},{key:"avgCampsStacked",label:"Stacks",description:"Camps Stacked"}];function eu(e){let{team:a}=e,s=(null==a?void 0:a.players)||[];return(0,t.jsxs)(n.Zp,{className:"shadow-lg",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center text-primary",children:[(0,t.jsx)(ed.A,{className:"mr-2"}),"Player Analytics"]}),(0,t.jsx)(n.BT,{children:"Hover over column headers for stat descriptions. All stats are averaged per game."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)(q.XI,{children:(0,t.jsxs)(eo.TooltipProvider,{children:[(0,t.jsx)(q.A0,{children:(0,t.jsxs)(q.Hj,{children:[(0,t.jsx)(q.nd,{className:"sticky left-0 bg-card z-10",children:"Player"}),em.map(e=>(0,t.jsx)(q.nd,{className:"text-center",children:(0,t.jsxs)(eo.Tooltip,{children:[(0,t.jsxs)(eo.TooltipTrigger,{className:"flex items-center justify-center w-full",children:[e.label," ",(0,t.jsx)(ec.A,{className:"h-3.5 w-3.5 ml-1.5 opacity-50"})]}),(0,t.jsx)(eo.TooltipContent,{children:e.description})]})},e.key))]})}),(0,t.jsx)(q.BF,{children:s.length>0?s.map((e,a)=>{let s=e.id||e.nickname||a;return(0,t.jsxs)(q.Hj,{children:[(0,t.jsx)(q.nA,{className:"font-medium sticky left-0 bg-card z-10",children:e.nickname}),em.map(a=>{var r,l;return(0,t.jsx)(q.nA,{className:"text-center",children:null!==(l=null===(r=e[a.key])||void 0===r?void 0:r.toFixed(2))&&void 0!==l?l:"N/A"},"".concat(s,"-").concat(a.key))})]},s)}):(0,t.jsx)(q.Hj,{children:(0,t.jsx)(q.nA,{colSpan:em.length+1,className:"text-center h-24",children:"No player data available."})})})]})})})})]})}let ex=(0,K.createServerReference)("400ce42ea544b25937a70588778fd3d4fc134add5a",K.callServer,void 0,K.findSourceMapURL,"getUserTeam");var eh=s(9086);function ep(){let{user:e,loading:a,signInWithGoogle:s}=(0,l.A)(),[i,c]=r.useState(null),[o,m]=r.useState([]),[u,x]=r.useState(!1),[h,p]=r.useState(!0);if(r.useEffect(()=>{let s=async()=>{if(e){p(!0);let{hasTeam:a,team:s}=await ex(e.uid);x(a),c(s||null),s&&m(await (0,eh.mp)(s.id)),p(!1)}else p(!1)};a||s()},[e,a]),a||h)return(0,t.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)]",children:(0,t.jsx)(W.A,{className:"h-16 w-16 animate-spin"})});if(!e)return(0,t.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)] p-4",children:(0,t.jsxs)(n.Zp,{className:"w-full max-w-lg text-center shadow-lg border-0 bg-gradient-to-br from-[#181c2f] via-[#3a295a] to-[#2d1b3c]",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-3xl font-bold text-[#0ff0fc] drop-shadow-[0_0_8px_#0ff0fc]",children:"Welcome, Future Captain!"}),(0,t.jsxs)(n.BT,{className:"text-lg text-[#b86fc6] pt-2",children:["Ready to join the tournament? Register your team and lead them to glory.",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"block mt-2 text-[#e0d7f7]",children:["Need a team or looking for players? Join our ",(0,t.jsx)("a",{href:"https://discord.gg/letniatournament",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#0ff0fc]",children:"Discord"})," and visit the #find-a-team channel!"]})]})]}),(0,t.jsxs)(n.Wu,{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-[#e0d7f7]",children:"Sign in to get started and create your team."}),(0,t.jsx)("button",{type:"button",onClick:s,className:"w-full py-3 px-6 rounded-lg font-bold text-lg bg-[#0ff0fc] text-[#181c2f] hover:bg-[#b86fc6] hover:text-[#fff] transition-all duration-300 shadow-lg drop-shadow-[0_0_8px_#0ff0fc]",children:"Sign in with Google"})]})]})});if(!u)return(0,t.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-80px)] p-4",children:(0,t.jsxs)(n.Zp,{className:"w-full max-w-lg text-center shadow-lg border-0 bg-gradient-to-br from-[#181c2f] via-[#3a295a] to-[#2d1b3c]",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-3xl font-bold text-[#0ff0fc] drop-shadow-[0_0_8px_#0ff0fc]",children:"Welcome, Future Captain!"}),(0,t.jsxs)(n.BT,{className:"text-lg text-[#b86fc6] pt-2",children:["Ready to join the tournament? Register your team and lead them to glory.",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"block mt-2 text-[#e0d7f7]",children:["Need a team or looking for players? Join our ",(0,t.jsx)("a",{href:"https://discord.gg/letniatournament",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#0ff0fc]",children:"Discord"})," and visit the #find-a-team channel!"]})]})]}),(0,t.jsxs)(n.Wu,{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-[#e0d7f7]",children:"Take the first step and register your team."}),(0,t.jsx)("button",{type:"button",onClick:()=>window.location.href="/register",className:"w-full py-3 px-6 rounded-lg font-bold text-lg bg-[#b86fc6] text-[#fff] hover:bg-[#0ff0fc] hover:text-[#181c2f] transition-all duration-300 shadow-lg drop-shadow-[0_0_8px_#b86fc6]",children:"Register your team"})]})]})});if(!i)return(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)(W.A,{className:"h-16 w-16 animate-spin"})});let f=o.filter(e=>"completed"!==e.status),g=o.filter(e=>"completed"===e.status);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(d,{team:i}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[f.length>0?f.map(a=>(0,t.jsx)(X,{match:a,teamId:i.id,captainId:e.uid},a.id)):(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{children:"No Upcoming Matches"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Your team has no matches scheduled."})})]}),(0,t.jsx)(Q,{matches:g,teamId:i.id})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(j,{team:i}),(0,t.jsx)(k,{team:i})]})]}),(0,t.jsx)(en,{team:i}),(0,t.jsx)(eu,{team:i})]})}},81878:(e,a,s)=>{Promise.resolve().then(s.bind(s,55388))},85127:(e,a,s)=>{"use strict";s.d(a,{A0:()=>n,BF:()=>d,Hj:()=>c,XI:()=>i,nA:()=>m,nd:()=>o});var t=s(95155),r=s(12115),l=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});i.displayName="Table";let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",s),...r})});n.displayName="TableHeader";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},85511:(e,a,s)=>{"use strict";s.d(a,{V:()=>c});var t=s(95155);s(12115);var r=s(965),l=s(73158),i=s(3611),n=s(59434),d=s(30285);function c(e){let{className:a,classNames:s,showOutsideDays:c=!0,...o}=e;return(0,t.jsx)(i.hv,{showOutsideDays:c,className:(0,n.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:a,...s}=e;return(0,t.jsx)(r.A,{className:(0,n.cn)("h-4 w-4",a),...s})},IconRight:e=>{let{className:a,...s}=e;return(0,t.jsx)(l.A,{className:(0,n.cn)("h-4 w-4",a),...s})}},...o})}c.displayName="Calendar"},90503:(e,a,s)=>{"use strict";s.d(a,{TimeProvider:()=>i,z:()=>n});var t=s(95155),r=s(12115);let l=(0,r.createContext)(void 0),i=e=>{let{children:a}=e,[s,i]=(0,r.useState)(new Date);return(0,t.jsx)(l.Provider,{value:{simulatedTime:s,setSimulatedTime:i},children:a})},n=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTime must be used within a TimeProvider");return e}},91394:(e,a,s)=>{"use strict";s.d(a,{BK:()=>d,eu:()=>n,q5:()=>c});var t=s(95155),r=s(12115),l=s(54011),i=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});n.displayName=l.bL.displayName;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l._V,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",s),...r})});d.displayName=l._V.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.H4,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});c.displayName=l.H4.displayName},92008:(e,a,s)=>{"use strict";s.d(a,{PlayerAvatar:()=>n});var t=s(95155);s(12115);var r=s(91394),l=s(59434);let i={small:"h-10 w-10",medium:"h-16 w-16",large:"h-32 w-32"};function n(e){let{player:a,size:s="medium",className:n}=e;if(!a)return(0,t.jsxs)(r.eu,{className:(0,l.cn)(i[s],n),children:[(0,t.jsx)(r.BK,{src:"https://placehold.co/128x128.png?text=??"}),(0,t.jsx)(r.q5,{children:"??"})]});let d="large"===s?a.avatarfull:a.avatarmedium||a.avatar,c=a.nickname.substring(0,2);return(0,t.jsxs)(r.eu,{className:(0,l.cn)(i[s],n),children:[(0,t.jsx)(r.BK,{src:d||"https://placehold.co/128x128.png?text=".concat(c)}),(0,t.jsx)(r.q5,{children:c})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,7138,4277,6874,2759,3063,6433,5725,1345,3013,9613,287,9816,9023,8441,1684,7358],()=>a(81878)),_N_E=e.O()}]);