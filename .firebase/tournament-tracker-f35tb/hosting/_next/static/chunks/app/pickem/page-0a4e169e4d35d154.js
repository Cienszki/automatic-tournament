(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1732],{6302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var r=s(95155),a=s(12115),i=s(35294),n=s(9086),l=s(66695),o=s(30285),d=s(10549),c=s(26126),m=s(66424),h=s(85268),x=s(91467),u=s(47105),p=s(50286),f=s(50172),g=s(8531),j=s(70593),b=s(59434),v=s(66766),N=s(59576),y=s(87481),w=s(88079);let P={champion:{id:"champion",title:"Champion",limit:1,icon:h.A,score:16},runnerUp:{id:"runnerUp",title:"Runner-up",limit:1,icon:x.A,score:15},thirdPlace:{id:"thirdPlace",title:"3rd Place",limit:1,icon:u.A,score:14},fourthPlace:{id:"fourthPlace",title:"4th Place",limit:1,icon:u.A,score:13},fifthToSixth:{id:"fifthToSixth",title:"5th - 6th Place",limit:2,icon:p.A,score:11},seventhToEighth:{id:"seventhToEighth",title:"7th - 8th Place",limit:2,icon:p.A,score:9},ninthToTwelfth:{id:"ninthToTwelfth",title:"9th - 12th Place",limit:4,icon:p.A,score:6},thirteenthToSixteenth:{id:"thirteenthToSixteenth",title:"13th - 16th Place",limit:4,icon:p.A,score:2},pool:{id:"pool",title:"Group Stage Elimination",limit:1/0,icon:null,score:0}},A={16:"champion",15:"runnerUp",14:"thirdPlace",13:"fourthPlace",11:"fifthToSixth",9:"seventhToEighth",6:"ninthToTwelfth",2:"thirteenthToSixteenth"};function T(){let{user:e,signInWithGoogle:t}=(0,N.A)(),{toast:s}=(0,y.dj)(),[d,c]=(0,a.useState)([]),[h,x]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1),[T,E]=(0,a.useState)(null),[R,L]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){p(!0);let t=await (0,n.iK)();c(t);let s={pool:t.map(e=>e.id),champion:[],runnerUp:[],thirdPlace:[],fourthPlace:[],fifthToSixth:[],seventhToEighth:[],ninthToTwelfth:[],thirteenthToSixteenth:[]};if(e){let[r,a]=await Promise.all([(0,n.zM)(e.uid),(0,n.VM)(e.uid)]);if(E(a),null==r?void 0:r.scores){let e=new Set;Object.entries(r.scores).forEach(t=>{let[r,a]=t,i=A[a];i&&s[i]&&(s[i].push(r),e.add(r))}),s.pool=t.map(e=>e.id).filter(t=>!e.has(t))}}x(s),p(!1)}()},[e]);let U=e=>d.find(t=>t.id===e),I=(0,a.useMemo)(()=>!!h&&Object.keys(P).filter(e=>"pool"!==e).every(e=>h[e].length===P[e].limit),[h]),Z=async()=>{if(e&&h&&I){v(!0);try{let{...t}=h;await (0,n.wj)(e.uid,t),s({title:"Success!",description:"Your Pick'em predictions have been saved."})}catch(e){console.error("Error saving Pick'em:",e),s({title:"Error",description:e.message||"Failed to save your predictions.",variant:"destructive"})}finally{v(!1)}}},_=async t=>{if(e){v(!0);try{await (0,n.eg)(e.uid,{discordUsername:t}),E(s=>({...s,uid:e.uid,discordUsername:t})),L(!1),await Z()}catch(e){s({title:"Error",description:"Could not save your Discord username.",variant:"destructive"})}finally{v(!1)}}};return u||!h?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(f.A,{className:"h-16 w-16 animate-spin text-primary"})}):e?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(w.M,{isOpen:R,onClose:()=>L(!1),onSubmit:_,isSubmitting:b}),(0,r.jsx)(l.Zp,{className:"hidden md:flex shadow-xl text-center relative overflow-hidden h-[320px] fhd:h-[320px] 2k:h-[500px] flex-col justify-center p-6",children:(0,r.jsx)("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:"url(/backgrounds/pick%27em.png)"}})}),(0,r.jsx)(l.Zp,{className:"flex md:hidden shadow-xl text-center relative overflow-hidden h-[120px] flex-col justify-center items-center p-4 bg-black",children:(0,r.jsx)("span",{className:"text-3xl font-extrabold text-[#39ff14] drop-shadow-[0_0_8px_#39ff14] font-neon-bines",children:"Pick'em"})}),(0,r.jsx)(k,{}),(0,r.jsx)(i.JY,{onDragEnd:e=>{if(!e.destination||!h)return;let t=e.source.droppableId,s=e.destination.droppableId,r={...h},a=Array.from(r[t]),i=t===s?a:Array.from(r[s]),[n]=a.splice(e.source.index,1);i.splice(e.destination.index,0,n),r[t]=a,r[s]=i,x(r)},children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-xl",children:P.pool.title})}),(0,r.jsx)(i.gL,{droppableId:"pool",children:e=>(0,r.jsx)(l.Wu,{ref:e.innerRef,...e.droppableProps,children:(0,r.jsxs)(m.F,{className:"h-[600px] p-2 bg-muted/20 rounded-md",children:[h.pool.map((e,t)=>(0,r.jsx)(i.sx,{draggableId:e,index:t,children:t=>(0,r.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:(0,r.jsx)(C,{team:U(e)})})},e)),e.placeholder]})})})]})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-xl",children:"Pick'em: Final Placements"})}),(0,r.jsx)(l.Wu,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Object.values(P).filter(e=>"pool"!==e.id).map(e=>(0,r.jsx)(S,{id:e.id,title:e.title,icon:e.icon,teams:h[e.id],getTeamById:U,requiredCount:e.limit},e.id))})]})})]})}),(0,r.jsx)(l.Zp,{className:"shadow-lg",children:(0,r.jsxs)(l.wL,{className:"p-4 flex flex-col md:flex-row justify-center items-center gap-4",children:[(0,r.jsxs)(o.$,{size:"lg",variant:"destructive",onClick:()=>{x({pool:d.map(e=>e.id),champion:[],runnerUp:[],thirdPlace:[],fourthPlace:[],fifthToSixth:[],seventhToEighth:[],ninthToTwelfth:[],thirteenthToSixteenth:[]})},disabled:b,children:[(0,r.jsx)(g.A,{className:"mr-2"})," Reset All Picks"]}),(0,r.jsxs)(o.$,{size:"lg",onClick:()=>{(null==T?void 0:T.discordUsername)?Z():L(!0)},disabled:!I||b,children:[b?(0,r.jsx)(f.A,{className:"mr-2 animate-spin"}):(0,r.jsx)(j.A,{className:"mr-2"}),b?"Saving...":"Submit Predictions"]})]})})]}):(0,r.jsxs)(l.Zp,{className:"max-w-2xl mx-auto text-center shadow-xl",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-2xl text-accent",children:"Join the Challenge!"})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("p",{className:"mb-4 text-muted-foreground",children:"Login with Google to make your predictions."}),(0,r.jsx)(o.$,{onClick:t,size:"lg",children:"Login with Google"})]})]})}let k=()=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-2xl text-accent",children:"How to Play"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(d.Accordion,{type:"single",collapsible:!0,defaultValue:"item-1",children:[(0,r.jsxs)(d.AccordionItem,{value:"item-1",children:[(0,r.jsx)(d.AccordionTrigger,{children:"Fantasy League"}),(0,r.jsx)(d.AccordionContent,{children:"Select one player for each of the five roles from the dropdown menus. You cannot select the same player more than once."})]}),(0,r.jsxs)(d.AccordionItem,{value:"item-2",children:[(0,r.jsx)(d.AccordionTrigger,{children:"Pick'em Challenge"}),(0,r.jsx)(d.AccordionContent,{children:'Drag and drop each team from the "Team Pool" into one of the final placement containers to predict the tournament\'s outcome. Teams left in the "Group Stage Elimination" pool are those you predict will not make it to the playoffs.'})]}),(0,r.jsxs)(d.AccordionItem,{value:"item-3",children:[(0,r.jsx)(d.AccordionTrigger,{children:"Lock In Your Picks"}),(0,r.jsx)(d.AccordionContent,{children:'Once you have filled all fantasy slots and placement containers, the "Submit Predictions" button will be enabled. Your picks cannot be changed after submission.'})]})]})})]}),S=e=>{let{id:t,title:s,icon:a,teams:n,getTeamById:o,requiredCount:d}=e;return(0,r.jsxs)(l.Zp,{className:"flex flex-col min-w-[200px] bg-muted/20",children:[(0,r.jsx)(l.aR,{className:"pb-2",children:(0,r.jsxs)(l.ZB,{className:"text-base flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[a&&(0,r.jsx)(a,{className:"h-5 w-5 mr-2 text-primary shrink-0"}),s]}),(0,r.jsxs)(c.E,{variant:n.length>d?"destructive":n.length===d?"secondary":"outline",className:(0,b.cn)(n.length<d&&"bg-muted text-muted-foreground border-transparent"),children:[n.length," / ",d]})]})}),(0,r.jsx)(i.gL,{droppableId:t,children:(e,t)=>(0,r.jsxs)(l.Wu,{ref:e.innerRef,...e.droppableProps,className:(0,b.cn)("flex-grow min-h-[60px] rounded-md p-2 transition-colors",t.isDraggingOver?"bg-primary/10":""),children:[n.length>0?n.map((e,t)=>(0,r.jsx)(i.sx,{draggableId:e,index:t,children:t=>(0,r.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:(0,r.jsx)(C,{team:o(e)})})},e)):(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground italic text-xs",children:"Drop team(s) here"}),e.placeholder]})})]})},C=e=>{let{team:t}=e;return(0,r.jsxs)("div",{className:"p-2 mb-2 bg-card rounded-md shadow-sm flex items-center space-x-3 cursor-grab active:cursor-grabbing",children:[(0,r.jsx)(v.default,{src:t.logoUrl,alt:t.name,width:24,height:24,className:"rounded-sm flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium text-sm truncate",children:t.name})]})}},10549:(e,t,s)=>{"use strict";s.d(t,{Accordion:()=>o,AccordionContent:()=>m,AccordionItem:()=>d,AccordionTrigger:()=>c});var r=s(95155),a=s(12115),i=s(23478),n=s(79556),l=s(59434);let o=i.bL,d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.q7,{ref:t,className:(0,l.cn)("border-b",s),...a})});d.displayName="AccordionItem";let c=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsx)(i.Y9,{className:"flex",children:(0,r.jsxs)(i.l9,{ref:t,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...o,children:[a,(0,r.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=i.l9.displayName;let m=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsx)(i.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,r.jsx)("div",{className:(0,l.cn)("pb-4 pt-0 p-4",s),children:a})})});m.displayName=i.UC.displayName},26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(95155);s(12115);var a=s(74466),i=s(59434);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:s}),t),...a})}},54165:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>m,Es:()=>x,L3:()=>u,c7:()=>h,lG:()=>o,rr:()=>p});var r=s(95155),a=s(12115),i=s(15452),n=s(25318),l=s(59434);let o=i.bL;i.l9;let d=i.ZL;i.bm;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});c.displayName=i.hJ.displayName;let m=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(i.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[a,(0,r.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});u.displayName=i.hE.displayName;let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});p.displayName=i.VY.displayName},66424:(e,t,s)=>{"use strict";s.d(t,{F:()=>l});var r=s(95155),a=s(12115),i=s(47655),n=s(59434);let l=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(i.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",s),...l,children:[(0,r.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(o,{}),(0,r.jsx)(i.OK,{})]})});l.displayName=i.bL.displayName;let o=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,r.jsx)(i.VM,{ref:t,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,r.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=i.VM.displayName},85057:(e,t,s)=>{"use strict";s.d(t,{J:()=>d});var r=s(95155),a=s(12115),i=s(40968),n=s(74466),l=s(59434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),s),...a})});d.displayName=i.b.displayName},88079:(e,t,s)=>{"use strict";s.d(t,{M:()=>c});var r=s(95155),a=s(12115),i=s(30285),n=s(54165),l=s(62523),o=s(85057),d=s(50172);function c(e){let{isOpen:t,onClose:s,onSubmit:c,isSubmitting:m}=e,[h,x]=a.useState("");return(0,r.jsx)(n.lG,{open:t,onOpenChange:s,children:(0,r.jsx)(n.Cf,{className:"sm:max-w-[425px]",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&c(h.trim())},children:[(0,r.jsxs)(n.c7,{children:[(0,r.jsx)(n.L3,{children:"Enter Your Discord Username"}),(0,r.jsx)(n.rr,{children:"Please provide your Discord username so we can contact you if you win. This is a one-time request."})]}),(0,r.jsx)("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(o.J,{htmlFor:"discord-username",className:"text-right",children:"Username"}),(0,r.jsx)(l.p,{id:"discord-username",value:h,onChange:e=>x(e.target.value),placeholder:"your_discord_name",className:"col-span-3",required:!0})]})}),(0,r.jsx)(n.Es,{children:(0,r.jsxs)(i.$,{type:"submit",disabled:m,children:[m&&(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Save and Submit"]})})]})})})}},96783:(e,t,s)=>{Promise.resolve().then(s.bind(s,6302))}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7138,1309,4277,2759,3063,6433,1345,8034,3830,9011,8496,9023,8441,1684,7358],()=>t(96783)),_N_E=e.O()}]);